# 4번 피어세션 때 오류 해결 과정 공유하기

## 물류 접수 이벤트

### 오류

1. 비동기 처리

  - 물품이 분류되면 비동기로 바로 다음 물품이 분류되고 현재 물품이 배송을 시작하지 않는 문제가 있었다.

2. 콜백함수 방식

  - 콜백함수를 담은 이벤트를 따로 제품마다 관리하여 구현하려했는데 복잡했다.

### 해결방식

1. 내부에 상태가 너무 많아 복잡하여 곧 바꿀 예정이지만 입력값 → 대기큐 / 대기큐 → 물류큐 등 전반적인 물품에 대해 분류와 배송에 대한 관리를 담당하였다. 이전에는 비동기처리 함수를 구현하지 않아서 함수가 처리 순서를 만족시키지 못했는데 async await 을 통해 순서를 보장해 해결할 수 있었다.
2. 이벤트에미터 방식으로 전환해서 구현해서 해결할 수 있었다.



## 버전 관리 도구 만들기

### 오류

1. blob파일의 해쉬를 파일내용으로만 생성했을때, 파일간 파일명은 다른데 파일 내용이 다른경우 같은 해쉬를 가지는 문제

2. 원래 Git에서는 Tree안에 Tree가 또 존재할 수 있는 구조인데, 이를 구현함에 있어서 어려움을 느꼈다.


### 해결방식

1. blob 파일의 경우에만 파일내용+파일명을 조합하여 해시를 생성하였다.

2. Tree 안에는 Tree가 존재할 수 없다고 가정하고 구현하였다.

